[mypy]
python_version = 3.10
ignore_missing_imports = True
explicit_package_bases = True
plugins = sqlalchemy.ext.mypy.plugin
show_error_codes = True
warn_unused_ignores = False
warn_redundant_casts = True

# Gradual typing - lenient globally
disallow_untyped_defs = False
check_untyped_defs = False
disallow_incomplete_defs = False
no_implicit_optional = False
disallow_any_expr = False
disallow_any_explicit = False

# Skip generated/legacy
exclude = (md_archive/|alembic/versions/)

# Relaxed error codes for ingestion and analysis (no ignore_errors)
[mypy-amprenta_rag.ingestion.*]
disable_error_code = attr-defined,arg-type

[mypy-amprenta_rag.analysis.*]
disable_error_code = attr-defined
