[mypy]
python_version = 3.10
warn_return_any = False
warn_unused_configs = True
ignore_missing_imports = True

# Gradual typing - start lenient
disallow_untyped_defs = False
check_untyped_defs = False
disallow_incomplete_defs = False
no_implicit_optional = False

# Allow any for now
disallow_any_expr = False
disallow_any_explicit = False

# Keep these enabled (easy wins)
warn_redundant_casts = True
warn_unused_ignores = True

# Skip generated/legacy and non-API modules for initial rollout
exclude = (md_archive/|alembic/versions/|amprenta_rag/(?!api).*)

# Per-module overrides for API layer
[mypy-amprenta_rag.api.*]
disallow_untyped_defs = True
check_untyped_defs = True

